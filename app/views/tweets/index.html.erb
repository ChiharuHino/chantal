<%= stylesheet_link_tag 'index', :media => "all" %>
<section id="top">
    <div class="title-container">
    <img src="./image/image1.jpg" alt="" />
    <p2 class="absolute">Idea-Matching</p2>
    </div>
</section>

<form action="/tweets" accept-charset="UTF-8" method="get" class="search_container">
  <div class="search-box">
  <input type="text" name="search" id="search" size="25" placeholder="投稿を検索">
  <input type="submit" name="commit" value="" data-disable-with="">
  <i class="fas fa-search"></i></input>
  </div>
</form>

<div class="ranking_container">
  <div class="raiking_title">
    <h3>投稿ランキング</h3>
  </div>
  <div class="ranking">
    <% @all_ranks.each.with_index(1) do |t, i|  %>
    第
    <%= i %>
    位
    <%= t.title %>  
    <br>
    <% end %>  
    <br>
  </div>
</div>

<div class="tweets-container">
  <%= page_entries_info @tweets %>
  <%= paginate @tweets %>
  
  <ul class="tw">
  <% @tweets.each do |t| %>
  <li>
  <div class="tweet"> 
    <div class="tweet_images">
      <%= image_tag t.image_url, size: "370×370" if t.image? %>
    </div>
    <div class="tweet_user_name_heart">
    <div class="tweet_user_name">
      <a href="/users/<%= t.user.id %>"><%= t.user.name %></a>
    </div>

    <div class="tweet_heart">
    <% if user_signed_in? %>
      <% if current_user.already_liked?(t) %>
          <%= link_to tweet_like_path(id: t.id, tweet_id: t.id), method: :delete do %>
            <i class="fas fa-heart"></i><%= t.likes.count %>
          <% end %>
      <% else %>
          <%= link_to tweet_likes_path(id: t.id, tweet_id: t.id), method: :post do %>
            <i class="far fa-heart"></i><%= t.likes.count %>
          <% end %>
      <% end %>
    <% else %>
      <i class="far fa-heart"></i><%= t.likes.count %>
    <% end %>
    </div>
    </div>

    <div class="tweet_title">
      <%= t.title %>
    </div>

    <div class="tweet_tags">
      <%= link_to t.tags,  controller: "tweets", action: "index", search: t.tags%>
      <%= link_to t.tags2,  controller: "tweets", action: "index", search: t.tags2%>
      <%= link_to t.tags3,  controller: "tweets", action: "index", search: t.tags3%>
      <%= link_to t.tags4,  controller: "tweets", action: "index", search: t.tags4%>
      <%= link_to t.tags5,  controller: "tweets", action: "index", search: t.tags5%>
    </div>

    <div class="tweet_detail">
      <%= link_to "詳細", tweet_path(t.id) %>
    </div>

    <div class="tweet_edit_delate">
　　  <% if user_signed_in? && current_user.id == t.user_id %>  
    　<%= link_to "編集する", edit_tweet_path(t.id) %>
    　<%= link_to "削除する", tweet_path(t.id), method: :delete %>
　　  <% end %> 　
    </div>

    
    <p class="tweet_time">
      <%= t.created_at %>
    </p>
　  </li>
  <% end %>
  </ul>
  
  <%= paginate @tweets %>
</div>
<br>
<br>
<br>
<br>







  



